---
import Layout from '../layouts/Layout.astro';
import ContactForm from '../components/react/ContactForm.jsx';
import ContactInfo from '../components/contacto/ContactInfo.astro';
import CalendlyEmbed from '../components/contacto/CalendlyEmbed.astro';
import Button from '../components/shared/Button.astro';
import SectionTitle from '../components/shared/SectionTitle.astro';
import { MessageCircle, Mail, Calendar } from 'lucide-react';
import { siteConfig } from '../data/siteConfig';
import { formatWhatsAppLink } from '../utils/helpers';

const whatsappLink = formatWhatsAppLink(siteConfig.whatsapp, siteConfig.whatsappMessage);
---

<Layout 
  title="Contacto | Agenda tu Diagn√≥stico Gratuito - Vete a la Cima"
  description="Cont√°ctame para transformar tu veterinaria. Diagn√≥stico gratuito de 30 minutos sin compromiso. Agenda tu reuni√≥n con Virginia Vallejo, consultora especializada en crecimiento veterinario. WhatsApp, email o videollamada."
>
  <!-- Hero Section -->
  <section class="relative min-h-[80vh] md:min-h-[90vh] lg:min-h-[95vh] flex items-end overflow-hidden pt-32 md:pt-40 pb-20 md:pb-28 lg:pb-32">
    <!-- Background con Video -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#0a1929] via-[#0f1f33] to-[#0a1929] z-0"></div>
    
    <!-- Video de fondo -->
    <video 
      autoplay 
      loop 
      muted 
      playsinline
      preload="auto"
      class="absolute inset-0 w-full h-full object-cover opacity-90 z-[1]"
      webkit-playsinline
      x5-playsinline
    >
      <source src="/video/hero5.mp4" type="video/mp4" />
    </video>
    
    <!-- Overlay oscuro para legibilidad -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#0a1929]/40 via-[#0f1f33]/30 to-[#0a1929]/70 z-[2]"></div>
    
    <!-- Grid pattern sutil -->
    <div class="absolute inset-0 opacity-[0.02] z-[3]" style="background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0); background-size: 48px 48px;"></div>
    
    <!-- Acentos de color sutiles -->
    <div class="absolute inset-0 z-[4]">
      <div class="absolute top-0 left-1/4 w-[400px] h-[400px] bg-[#b4cfa6]/8 rounded-full blur-[120px]"></div>
      <div class="absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-[#3e6680]/8 rounded-full blur-[120px]"></div>
    </div>
    
    <div class="container-custom px-4 md:px-8 relative z-10">
      <div class="max-w-4xl mx-auto text-center text-white">
        <!-- Badge -->
        <div class="inline-flex items-center gap-2.5 px-4 py-2 bg-white/5 backdrop-blur-sm rounded-full mb-6 border border-white/10">
          <div class="w-2 h-2 bg-[#b4cfa6] rounded-full"></div>
          <span class="text-[#b4cfa6] font-semibold text-xs uppercase tracking-widest">
            Contacto
          </span>
        </div>
        
        <h1 class="font-heading font-bold text-4xl md:text-5xl lg:text-6xl mb-6 leading-tight">
          Agenda tu <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#b4cfa6] to-[#66D4FF]">encuentro estrat√©gico</span>
        </h1>
        
        <p class="text-xl md:text-2xl text-white/90 mb-0 leading-relaxed">
          Reserv√° tu sesi√≥n en el horario que prefieras o escribinos directamente
        </p>
      </div>
    </div>
  </section>

  <!-- Quick Contact Options -->
  <section class="section-padding bg-[#0a1929] relative z-10">
    <div class="container-custom px-4 md:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto">
        <!-- Calendly (prioridad 1) -->
        <a 
          href="#calendly"
          class="contact-card group"
        >
          <div class="relative z-10">
            <div class="icon-container bg-gradient-to-br from-[#b4cfa6] to-[#8fa886] mx-auto mb-4">
              <Calendar className="text-[#0a1929]" size={32} />
            </div>
            <h3 class="font-heading font-semibold text-xl text-white text-center mb-2 group-hover:text-[#b4cfa6] transition-colors">
              Agendar reuni√≥n
            </h3>
            <p class="text-white/80 text-center text-sm font-medium">
              Encuentro estrat√©gico
            </p>
          </div>
        </a>

        <!-- WhatsApp -->
        <a 
          href={whatsappLink}
          target="_blank"
          rel="noopener noreferrer"
          class="contact-card group"
        >
          <div class="relative z-10">
            <div class="icon-container bg-gradient-to-br from-[#25D366] to-[#20BA5A] mx-auto mb-4">
              <MessageCircle className="text-white" size={32} />
            </div>
            <h3 class="font-heading font-semibold text-xl text-white text-center mb-2 group-hover:text-[#25D366] transition-colors">
              WhatsApp
            </h3>
            <p class="text-white/80 text-center text-sm font-medium">
              Respuesta inmediata
            </p>
          </div>
        </a>

        <!-- Email -->
        <a 
          href={`mailto:${siteConfig.email}`}
          class="contact-card group"
        >
          <div class="relative z-10">
            <div class="icon-container bg-gradient-to-br from-[#3e6680] to-[#294a5f] mx-auto mb-4">
              <Mail className="text-white" size={32} />
            </div>
            <h3 class="font-heading font-semibold text-xl text-white text-center mb-2 group-hover:text-[#3e6680] transition-colors">
              Email
            </h3>
            <p class="text-white/80 text-center text-sm font-medium break-all px-2">
              {siteConfig.email}
            </p>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- Calendly Section (Prioridad 1) -->
  <section id="calendly" class="section-padding bg-gradient-to-b from-[#0a1929] to-[#0f1f33] relative overflow-hidden scroll-mt-20">
    <div class="absolute inset-0 opacity-[0.02]" style="background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0); background-size: 40px 40px;"></div>

    <div class="container-custom px-4 md:px-8 relative z-10">
      <div class="max-w-4xl mx-auto">
        <!-- T√≠tulo -->
        <div class="text-center mb-12">
          <div class="inline-flex items-center gap-2.5 px-4 py-2 bg-white/5 backdrop-blur-sm rounded-full mb-4 border border-white/10">
            <div class="w-2 h-2 bg-[#b4cfa6] rounded-full"></div>
            <span class="text-[#b4cfa6] text-xs uppercase tracking-wider font-semibold">Agenda tu encuentro</span>
          </div>
          <h2 class="font-heading font-bold text-4xl text-white mb-4">
            Eleg√≠ tu horario
          </h2>
          <p class="text-white/80 text-lg">
            Reserv√° tu reuni√≥n estrat√©gica en el d√≠a y horario que prefieras
          </p>
        </div>

        <CalendlyEmbed />
      </div>
    </div>
  </section>

  <!-- Main Contact Section -->
  <section id="formulario" class="section-padding bg-[#0a1929] scroll-mt-20 relative overflow-hidden">
    <!-- Decoraci√≥n de fondo -->
    <div class="absolute inset-0 opacity-[0.02]" style="background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0); background-size: 40px 40px;"></div>
    <div class="absolute top-1/4 right-0 w-[400px] h-[400px] bg-[#b4cfa6]/8 rounded-full blur-[120px]"></div>
    <div class="absolute bottom-1/4 left-0 w-[400px] h-[400px] bg-[#3e6680]/8 rounded-full blur-[120px]"></div>

    <div class="container-custom px-4 md:px-8 relative z-10">
      <div class="grid grid-cols-1 lg:grid-cols-5 gap-12 max-w-7xl mx-auto">
        
        <!-- Contact Form -->
        <div class="lg:col-span-3">
          <div class="form-container">
            <div class="relative bg-white/[0.03] backdrop-blur-xl rounded-3xl p-8 md:p-10 border border-white/10">
              <!-- Header del form -->
              <div class="mb-8">
                <div class="inline-flex items-center gap-2.5 px-4 py-2 bg-white/5 backdrop-blur-sm rounded-full mb-4 border border-white/10">
                  <div class="w-2 h-2 bg-[#b4cfa6] rounded-full"></div>
                  <span class="text-[#b4cfa6] text-xs uppercase tracking-wider font-semibold">Formulario de contacto</span>
                </div>
                <h2 class="font-heading font-bold text-3xl text-white mb-2">
                  Env√≠anos un mensaje
                </h2>
                <p class="text-white/80">
                  Complet√° el formulario y te contactaremos a la brevedad
                </p>
              </div>
              
              <ContactForm client:visible />
            </div>
          </div>
        </div>

        <!-- Contact Info -->
        <div class="lg:col-span-2">
          <div class="sticky top-24">
            <ContactInfo />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Preview -->
  <section class="section-padding bg-gradient-to-b from-[#0f1f33] to-[#0a1929] relative overflow-hidden">
    <div class="absolute inset-0 opacity-[0.02]" style="background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0); background-size: 40px 40px;"></div>
    <div class="absolute top-1/2 left-0 w-96 h-96 bg-[#b4cfa6]/8 rounded-full blur-[120px]"></div>
    
    <div class="container-custom px-4 md:px-8 relative z-10">
      <div class="max-w-4xl mx-auto">
        <!-- T√≠tulo -->
        <div class="text-center mb-12">
          <div class="inline-flex items-center gap-2.5 px-4 py-2 bg-white/5 backdrop-blur-sm rounded-full mb-4 border border-white/10">
            <div class="w-2 h-2 bg-[#b4cfa6] rounded-full"></div>
            <span class="text-[#b4cfa6] text-xs uppercase tracking-wider font-semibold">Preguntas frecuentes</span>
          </div>
          <h2 class="font-heading font-bold text-4xl text-white mb-4">
            ¬øTen√©s dudas?
          </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
          <div class="faq-card group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-[#b4cfa6]/20 to-[#3e6680]/20 flex items-center justify-center border border-[#b4cfa6]/30">
                <span class="text-xl">‚ùì</span>
              </div>
              <div>
                <h3 class="font-heading font-semibold text-lg text-white mb-2 group-hover:text-[#b4cfa6] transition-colors">
                  ¬øC√≥mo es el primer contacto?
                </h3>
                <p class="text-white/80 text-sm leading-relaxed">
                  Agendan un encuentro inicial para conocer tu situaci√≥n y objetivos. Sin compromiso.
                </p>
              </div>
            </div>
          </div>

          <div class="faq-card group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-[#b4cfa6]/20 to-[#3e6680]/20 flex items-center justify-center border border-[#b4cfa6]/30">
                <span class="text-xl">‚è±Ô∏è</span>
              </div>
              <div>
                <h3 class="font-heading font-semibold text-lg text-white mb-2 group-hover:text-[#b4cfa6] transition-colors">
                  ¬øCu√°nto tiempo demoran?
                </h3>
                <p class="text-white/80 text-sm leading-relaxed">
                  Por Calendly: inmediato. Por formulario: menos de 24 horas. Por WhatsApp: respuesta r√°pida.
                </p>
              </div>
            </div>
          </div>

          <div class="faq-card group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-[#b4cfa6]/20 to-[#3e6680]/20 flex items-center justify-center border border-[#b4cfa6]/30">
                <span class="text-xl">üåé</span>
              </div>
              <div>
                <h3 class="font-heading font-semibold text-lg text-white mb-2 group-hover:text-[#b4cfa6] transition-colors">
                  ¬øAtienden fuera de Argentina?
                </h3>
                <p class="text-white/80 text-sm leading-relaxed">
                  S√≠, trabajamos con clientes de toda Latinoam√©rica de forma 100% virtual.
                </p>
              </div>
            </div>
          </div>

          <div class="faq-card group">
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-[#b4cfa6]/20 to-[#3e6680]/20 flex items-center justify-center border border-[#b4cfa6]/30">
                <span class="text-xl">üìã</span>
              </div>
              <div>
                <h3 class="font-heading font-semibold text-lg text-white mb-2 group-hover:text-[#b4cfa6] transition-colors">
                  ¬øQu√© pasa despu√©s?
                </h3>
                <p class="text-white/80 text-sm leading-relaxed">
                  Te presentamos una propuesta personalizada. Vos decid√≠s si avanzar.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="section-padding bg-gradient-to-b from-[#0a1929] to-[#0f1f33] relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-radial from-[#1a2f42]/40 via-[#0a1929] to-[#0a1929]"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-[#b4cfa6]/8 rounded-full blur-[120px]"></div>
    
    <div class="container-custom px-4 md:px-8 relative z-10">
      <div class="max-w-3xl mx-auto text-center text-white">
        <h2 class="font-heading font-bold text-3xl md:text-4xl lg:text-5xl mb-6">
          ¬øListo para dar el <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#b4cfa6] to-[#66D4FF]">siguiente paso?</span>
        </h2>
        <p class="text-xl text-white/90 mb-10 leading-relaxed">
          Agenda tu encuentro estrat√©gico o escribinos para coordinar una llamada
        </p>
        
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a 
            href="#calendly"
            class="cta-calendly group"
          >
            <Calendar size={24} className="relative z-10" />
            <span class="relative z-10">üëâ Agendar reuni√≥n</span>
          </a>
          
          <a 
            href={whatsappLink}
            target="_blank"
            rel="noopener noreferrer"
            class="cta-whatsapp group"
          >
            <MessageCircle size={24} className="relative z-10" />
            <span class="relative z-10">Escribir por WhatsApp</span>
          </a>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Contact cards */
  .contact-card {
    position: relative;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    border-radius: 1.5rem;
    padding: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    overflow: hidden;
  }

  .contact-card:hover {
    transform: translateY(-4px);
    border-color: rgba(180, 207, 166, 0.4);
    background: rgba(255, 255, 255, 0.08);
  }

  /* Icon container */
  .icon-container {
    width: 64px;
    height: 64px;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
  }

  .contact-card:hover .icon-container {
    transform: scale(1.05);
    box-shadow: 0 12px 32px rgba(0, 0, 0, 0.4);
  }

  /* Form container */
  .form-container {
    position: relative;
  }

  /* FAQ cards */
  .faq-card {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(15px);
    border-radius: 1.5rem;
    padding: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
  }

  .faq-card:hover {
    background: rgba(255, 255, 255, 0.08);
    border-color: rgba(180, 207, 166, 0.4);
    transform: translateY(-2px);
  }

  /* CTA Buttons */
  .cta-whatsapp,
  .cta-calendly {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 2rem;
    font-weight: 600;
    border-radius: 0.75rem;
    transition: all 0.3s ease;
    overflow: hidden;
  }

  .cta-calendly {
    background: linear-gradient(135deg, #b4cfa6, #8fa886);
    color: #0a1929;
    box-shadow: 0 8px 30px rgba(180, 207, 166, 0.3);
  }

  .cta-calendly:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 12px 40px rgba(180, 207, 166, 0.5);
  }

  .cta-whatsapp {
    background: linear-gradient(135deg, #25D366, #20BA5A);
    color: white;
    box-shadow: 0 8px 30px rgba(37, 211, 102, 0.3);
  }

  .cta-whatsapp:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 12px 40px rgba(37, 211, 102, 0.5);
  }

  /* Gradient radial */
  .bg-gradient-radial {
    background: radial-gradient(circle at center, var(--tw-gradient-stops));
  }
</style>