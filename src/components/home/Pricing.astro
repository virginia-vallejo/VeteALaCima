---
import SectionTitle from '../shared/SectionTitle.astro';
import PricingCard from './PricingCard.astro';
import { plans } from '../../data/plans';
---

<section id="planes" class="section-padding relative overflow-hidden">
  <!-- Enterprise Gradient Background -->
  <div class="absolute inset-0 z-0">
    <!-- Base gradient matching blog hero -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#294a5f] via-[#3e6680] to-[#b4cfa6]"></div>
  </div>
  
  <!-- Animated tech pattern overlay -->
  <div class="absolute inset-0 opacity-[0.03] z-[1]">
    <div class="absolute inset-0" style="background-image: radial-gradient(circle at 2px 2px, rgba(255,255,255,0.1) 1px, transparent 0); background-size: 50px 50px;"></div>
  </div>
  
  <!-- Floating gradient orbs - very subtle -->
  <div class="absolute top-20 left-10 w-96 h-96 bg-celeste-tech/5 rounded-full blur-3xl pricing-orb-1 z-[1]"></div>
  <div class="absolute bottom-20 right-10 w-80 h-80 bg-azul-electrico/5 rounded-full blur-3xl pricing-orb-2 z-[1]"></div>
  <div class="absolute top-1/2 left-1/2 w-72 h-72 bg-[#b4cfa6]/3 rounded-full blur-3xl pricing-orb-3 z-[1]"></div>
  
  <!-- Diagonal accent lines -->
  <div class="absolute top-0 right-0 w-1/3 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent z-[1]"></div>
  <div class="absolute bottom-0 left-0 w-1/2 h-px bg-gradient-to-r from-transparent via-white/10 to-transparent z-[1]"></div>
  
  <div class="container-custom relative z-10">
    <!-- Title with enterprise styling -->
    <div class="pricing-title-wrapper animate-on-scroll text-center">
      <div class="inline-block px-6 py-3 bg-white/10 backdrop-blur-md rounded-full mb-6 border border-white/20">
        <span class="text-white font-bold text-sm uppercase tracking-wider">
           Nuestros planes
        </span>
      </div>
      <h2 class="font-heading font-bold text-4xl md:text-5xl lg:text-6xl text-white mb-6 leading-tight" style="text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);">
        Eleg칤 el plan que se adapte a <span class="text-transparent bg-clip-text bg-gradient-to-r from-celeste-tech to-[#b4cfa6]">tu etapa</span>
      </h2>
      <p class="text-white/80 text-lg md:text-xl max-w-3xl mx-auto" style="text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);">Tres opciones dise침adas para diferentes momentos de crecimiento</p>
    </div>

    <!-- Cards Grid -->
    <div class="mt-20 grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-10 items-center pricing-cards-grid">
      {plans.map((plan, index) => (
        <div 
          class="pricing-card-wrapper animate-on-scroll"
          style={`animation-delay: ${index * 0.15}s`}
          data-index={index}
        >
          <PricingCard plan={plan} />
        </div>
      ))}
    </div>

    <!-- Enterprise CTA Box -->
    <div class="mt-20 pricing-cta-wrapper animate-on-scroll" style="animation-delay: 0.5s">
      <div class="relative max-w-3xl mx-auto">
        <!-- Subtle glow effect -->
        <div class="absolute inset-0 bg-celeste-tech/5 rounded-3xl blur-2xl"></div>
        
        <div class="relative bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 md:p-10 text-center overflow-hidden group hover:bg-white/15 hover:border-white/30 transition-all duration-500">
          <!-- Corner decorations -->
          <div class="absolute top-0 left-0 w-20 h-20 border-t border-l border-white/20 rounded-tl-xl opacity-50 group-hover:opacity-100 transition-opacity duration-300"></div>
          <div class="absolute bottom-0 right-0 w-20 h-20 border-b border-r border-white/20 rounded-br-xl opacity-50 group-hover:opacity-100 transition-opacity duration-300"></div>
          
          <div class="relative z-10">
            <p class="text-xl md:text-2xl text-white mb-3 font-semibold">
              쯅o est치s seguro cu치l plan es mejor para vos?
            </p>
            <p class="text-white/70 mb-6 text-lg">
              Hablemos y encontramos juntos la mejor soluci칩n para tu cl칤nica
            </p>
            <a 
              href="/contacto" 
              class="inline-flex items-center gap-2 bg-celeste-tech hover:bg-celeste-tech/90 text-azul-profundo px-8 py-4 rounded-xl font-bold text-lg hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-2xl hover:shadow-celeste-tech/30"
            >
              <span class="text-2xl">游꿢</span>
              <span>Agenda tu diagn칩stico gratuito</span>
              <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Floating orbs - very subtle */
  @keyframes float-orb-1 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(-20px, 20px) scale(1.05); }
  }

  @keyframes float-orb-2 {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(20px, -20px) scale(1.05); }
  }

  @keyframes float-orb-3 {
    0%, 100% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(calc(-50% + 15px), calc(-50% - 15px)) scale(1.05); }
  }

  .pricing-orb-1 { animation: float-orb-1 20s ease-in-out infinite; }
  .pricing-orb-2 { animation: float-orb-2 25s ease-in-out infinite; }
  .pricing-orb-3 { animation: float-orb-3 22s ease-in-out infinite; }

  /* Title animations */
  .pricing-title-wrapper {
    animation: fade-scale-in 1s ease-out;
  }

  @keyframes fade-scale-in {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }

  /* Cards grid */
  .pricing-cards-grid {
    perspective: 1500px;
  }

  .pricing-card-wrapper {
    transition: transform 0.4s ease;
  }

  /* CTA wrapper animation */
  .pricing-cta-wrapper {
    animation: fade-in-up 0.8s ease-out;
  }

  @keyframes fade-in-up {
    from { opacity: 0; transform: translateY(40px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>
